<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/layout/template-with-menu.xhtml">

	<ui:define name="body">
		<h:form prependId="false">
		#{msg['app.portal.user.create-new-user.pageHeader.title']}
		#{createNewUserBean.openPage()}
		<p:wizard flowListener="#{createNewUserBean.onFlowWizard}">
				<p:tab id="tabBusinessPartner"
					title="#{msg['app.portal.user.create-new-user.wizard.tabs.businessPartnet.title']}">
					<p:outputPanel id="partnerPanel">
					<h:panelGrid columns="2">
						<p:outputLabel for="channelSelectOneMenu"
							value="#{msg['app.portal.user.create-new-user.wizard.tabs.company.labels.channel.title']}" />
					
						<p:selectOneMenu value="#{createNewUserBean.selectedChannel}"
							id="channelSelectOneMenu" required="true"
							requiredMessage="#{msg['app.portal.user.create-new-user.wizard.tabs.company.inputs.channel.validation.error.channelIsEmpty.text']}">
							<p:ajax event="change" golbal="false" update="partnerPanel" listener="#{createNewUserBean.getDealers()}">
							</p:ajax>
							<f:selectItem itemLabel="SeÃ§iniz" itemValue="" />
							<f:selectItems value="#{createNewUserBean.channelList}" />
						</p:selectOneMenu>

						<p:outputLabel for="dealerSelectOneMenu"
							value="#{msg['app.portal.user.create-new-user.wizard.tabs.company.labels.dealer.title']}" />
						<p:selectOneMenu value="#{createNewUserBean.selectedDealer}"
							id="dealerSelectOneMenu" required="true" disabled="#{createNewUserBean.dealerList eq null}"
							requiredMessage="#{msg['app.portal.user.create-new-user.wizard.tabs.company.inputs.channel.validation.error.dealerIsEmpty.text']}">
							<p:ajax event="change" global="false" update="partnerPanel"  listener="#{createNewUserBean.getAccounts()}">
							</p:ajax>
							<f:selectItem itemLabel="SeÃ§" itemValue=""/>
							<f:selectItems value="#{createNewUserBean.dealerList}" />
						</p:selectOneMenu>

						<p:outputLabel for="accountSelectOneMenu"
							value="#{msg['app.portal.user.create-new-user.wizard.tabs.company.labels.account.title']}" />
						<p:selectOneMenu value="#{createNewUserBean.selectedAccount}" 
							id="accountSelectOneMenu" autoWidth="false" required="true"  disabled="#{createNewUserBean.accountList eq null}"
							requiredMessage="#{msg['app.portal.user.create-new-user.wizard.tabs.company.inputs.channel.validation.error.accountIsEmpty.text']}">
							<f:selectItem itemLabel="choose" itemValue=""/>
							<f:selectItems value="#{createNewUserBean.accountList}"/>
						</p:selectOneMenu>
						
					</h:panelGrid>
					</p:outputPanel>
				</p:tab>

				<p:tab id="tabCompany"
					title="#{msg['app.portal.user.create-new-user.wizard.tabs.company.title']}">

				</p:tab>

			</p:wizard>

		</h:form>

	</ui:define>
</ui:composition>